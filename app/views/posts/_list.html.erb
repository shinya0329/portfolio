<section class="page-section" style="background-color: #1E1E1F;">
  <div class="container-xxl py-5">
    <div class="container">
      <h2 class="text-center text-light mt-0">Posts</h2>
      <hr class="divider"/>

      <% if posts.any? %>
        <div class="row mt-5 g-4">
          <% posts.each do |post| %>
            <div class="col-sm-6 col-lg-4">
              <div class="service-item rounded overflow-hidden mb-5 shadow" style="background-color: black; color: #fff;">
                <%= image_tag(post.image.attached? ? url_for(post.image) : "photo1.jpg", class: "w-100 overflow-hidden", style: "max-height: 200px;") %>
                <div class="user-item position-relative p-3 pt-0">
                  <div class="user-icon">
                    <%= image_tag(
                          post.user.profile_image.attached? ? url_for(post.user.profile_image) : "photo1.jpg",
                          class: "rounded-circle",
                          size: "100x100"
                        ) %>
                  </div>
                  <h4 class="mb-3 shop-name"><%= post.shop_name %></h4>
                  <p><%= post.caption %></p>
                  <span><i class="fas fa-user"></i> By <%= post.user.name %> ｜ </span>
                  <span><%= link_to "#{post.post_comments.count} コメント", post_path(post.id), class: "text-white" %></span><br>
                  <%= link_to post_path(post.id), class: "small" do %>
                    Read More <i class="fa fa-arrow-right ms-2"></i>
                  <% end %>
                </div>
              </div>
            </div>
          <% end %>
        </div>
        <%= paginate posts %>
      <% else %>
        <div class="text-center text-light mt-5">
          <i class="fas fa-box-open fa-3x mb-3"></i>
          <h4>投稿がまだありません</h4>
          <p class="text-white-50">最初の投稿をして、このページをにぎやかにしよう！</p>
        </div>
      <% end %>

    </div>
  </div>
</section>
